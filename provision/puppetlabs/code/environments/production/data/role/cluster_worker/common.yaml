---

classes:
    - apt
    - profile::cluster::mount
    - profile::cluster::packages
    - profile::cluster::exec
    - profile::cluster::mpi


profile::cluster::mount::users:
                          - name: 'aliman'
                          - name: 'antoine'
                          - name: 'apain'
                          - name: 'beniamino'
                          - name: 'benj'
                          - name: 'bergey'
                          - name: 'caroline'
                          - name: 'ckamdem'
                          - name: 'cndila'
                          - name: 'csclarkson'
                          - name: 'dan'
                          - name: 'dcooke'
                          - name: 'edward'
                          - name: 'eric'
                          - name: 'gamble88'
                          - name: 'gav'
                          - name: 'gclarke'
                          - name: 'george'
                          - name: 'iwright'
                          - name: 'jacob'
                          - name: 'jcbarret'
                          - name: 'jiyoung'
                          - name: 'jmidega'
                          - name: 'jobrien'
                          - name: 'joe'
                          - name: 'joel'
                          - name: 'jradrion'
                          - name: 'jshelton'
                          - name: 'jwendler'
                          - name: 'kanishka'
                          - name: 'kiran'
                          - name: 'kirk'
                          - name: 'krausem'
                          - name: 'kristofk'
                          - name: 'krzysztof'
                          - name: 'lee'
                          - name: 'leffler'
                          - name: 'lj4'
                          - name: 'lucas'
                          - name: 'mfontain'
                          - name: 'mriehle'
                          - name: 'njh'
                          - name: 'olivo'
                          - name: 'pvaut'
                            ensure: 'absent'
                          - name: 'quang'
                          - name: 'rlove'
                          - name: 'roamato'
                          - name: 'rpearson'
                          - name: 'rwh'
                          - name: 'ryan'
                          - name: 'sarah'
                          - name: 'shabrumi'
                          - name: 'sm0179'
                          - name: 'smol'
                          - name: 'tra'
                          - name: 'trochet'
                          - name: 'valentin'
                          - name: 'vipederg'
                          - name: 'zam'

profile::cluster::mount::level1:
    - anopheles
    - galton
    - plasmodium

profile::cluster::mount::level2:
    - coluzzi
    - grassi
    - mirror
    - morgan
    - pf3k
    - pfx



apt::ppas:
    #Latest python
    'ppa:fkrull/deadsnakes':
        ensure: 'present'
    #Latest R
    'ppa:marutter/rrutter':
        ensure: 'present'

apt::sources:
    # Replaced with the marutter ppa
    #      'CRAN_Bristol':
    ##Alternative location: 'http://cran.fhcrc.org/bin/linux/ubuntu'
    #      location: 'http://www.stats.bris.ac.uk/R/bin/linux/ubuntu/'
    #      release: '%{::lsbdistcodename}/'
    #      repos: ''
    #      key: 
    #       id: 'E084DAB9'
    #       server: 'keyserver.ubuntu.com'
      'htsql':
          location: 'http://dist.htsql.org/debian/'
          release: ''
          repos: 'stable free'
          key: 
              id: '8E70D862'
              source: 'http://dist.htsql.org/misc/build.gpg.key'

profile::cluster::packages::rstudio_server_url: 'https://download2.rstudio.org/rstudio-server-1.0.136-amd64.deb'

profile::cluster::tsm::ox-hfs-repo: 'http://downloads.hfs.ox.ac.uk/repo/apt/pool/ox-hfs-repo_1.4.0-1_all.deb'

#apt-mark showmanual is a good way to look at the installed packages
#Some packages will be installed by specific profiles
#Descriptions via apt-cache search 
profile::cluster::packages::analysis:
    - name: 'ant'
      description: 'ant - Java based build tool like make'
    - name: 'autoconf'
      description: 'autoconf - automatic configure script builder'
    - name: 'autogen'
      description: 'autogen - automated text file generator'
    - name: 'automake'
      description: 'automake - Tool for generating GNU Standards-compliant Makefiles'
    - name: 'bedtools'
      description: 'bedtools - suite of utilities for comparing genomic features'
    - name: 'bonnie++'
      description: 'bonnie++ - Hard drive benchmark suite'
    - name: 'bridge-utils'
      description: 'bridge-utils - Utilities for configuring the Linux Ethernet bridge'
    - name: 'bwa'
      description: 'bwa - Burrows-Wheeler Aligner'
    - name: 'cpu-checker'
      description: 'cpu-checker - tools to help evaluate certain CPU (or BIOS) features'
    - name: 'cython'
      description: 'cython - C-Extensions for Python'
    - name: 'dctrl-tools'
      description: 'dctrl-tools - Command-line tools to process Debian package information'
    - name: 'default-jdk'
      description: 'default-jdk - Standard Java or Java compatible Development Kit'
    - name: 'devscripts'
      description: 'devscripts - scripts to make the life of a Debian Package maintainer easier'
    - name: 'diffstat'
      description: 'diffstat - Produces graph of changes introduced by a diff file'
    - name: 'dos2unix'
      description: 'dos2unix - convert text file line endings between CRLF and LF'
    - name: 'dsh'
      description: 'dsh - dancers shell, or distributed shell'
    - name: 'ekg2-ui-ncurses'
      description: 'ekg2-ui-ncurses - instant messenger and IRC client for UNIX systems - ncurses interface'
    - name: 'emacs'
      description: 'emacs - GNU Emacs editor (metapackage)'
    - name: 'emacs24-nox'
      description: 'emacs24-nox - GNU Emacs editor (without GUI support)'
    - name: 'ess'
      description: 'ess - Emacs mode for statistical programming and data analysis'
    - name: 'extundelete'
      description: 'extundelete - utility to recover deleted files from ext3/ext4 partition'
    - name: 'fail2ban'
      description: 'fail2ban - ban hosts that cause multiple authentication errors'
    - name: 'fastx-toolkit'
      description: 'fastx-toolkit - FASTQ/A short nucleotide reads pre-processing tools'
    - name: 'fontconfig-config'
      description: 'fontconfig-config - generic font configuration library - configuration'
    - name: 'fonts-sil-gentium'
      description: 'fonts-sil-gentium - extended Unicode Latin font ("a typeface for the nations")'
    - name: 'g++'
      description: 'g++ - GNU C++ compiler'
    - name: 'gdb'
      description: 'gdb - GNU Debugger'
    - name: 'gdebi'
      description: 'gdebi - simple tool to view and install deb files - GNOME GUI'
    - name: 'gedit'
      description: 'gedit - official text editor of the GNOME desktop environment'
    - name: 'geeqie'
      description: 'geeqie - image viewer using GTK+'
    - name: 'gfortran'
      description: 'gfortran - GNU Fortran 95 compiler'
    - name: 'gnat'
      description: 'gnat - GNU Ada compiler' 
    - name: 'gnuplot-nox'
      description: 'gnuplot-nox - Command-line driven interactive plotting program. No-X package'
    - name: 'graphviz'
      description: 'graphviz - rich set of graph drawing tools'
    - name: 'gsl-bin'
      description: 'gsl-bin - GNU Scientific Library (GSL) -- binary package'
    - name: 'gwenview'
      description: 'gwenview - image viewer'
    - name: 'htsql'
      description: 'htsql - a database query language (core & SQLite backend)'
    - name: 'iotop'
      description: 'iotop - simple top-like I/O monitor'
    - name: 'iproute'
      description: 'iproute - transitional dummy package for iproute2'
    - name: 'iptraf'
      description: 'iptraf - Interactive Colourful IP LAN Monitor'
    - name: 'ipython-notebook'
      description: 'ipython-notebook - interactive Python html notebook'
    - name: 'ipython-qtconsole'
      description: 'ipython-qtconsole - enhanced interactive Python shell - Qt console'
    - name: 'kile'
      description: 'kile - KDE Integrated LaTeX Environment'
    - name: 'language-pack-en'
      description: 'language-pack-en - translation updates for language English'
    - name: 'lbzip2'
      description: 'lbzip2 - fast, multi-threaded bzip2 utility'
    - name: 'libmgl-data'
      description: 'libmgl-data - library for scientific graphs (data files)'
    - name: 'libmgl-dev'
      description: 'libmgl-dev - library for scientific graphs (development files)'
    - name: 'libmgl-fltk7.4.0'
      description: 'libmgl-fltk7.4.0 - library for scientific graphs (fltk interface for windows)'
    - name: 'libmgl-glut7.4.0'
      description: 'libmgl-glut7.4.0 - library for scientific graphs (glut interface for windows)'
    - name: 'libmgl-mpi7.4.0'
      description: 'libmgl-mpi7.4.0 - library for scientific graphs (mpi enhanced runtime library)'
    - name: 'libmgl-qt7.4.0'
      description: 'libmgl-qt7.4.0 - library for scientific graphs (Qt interface for windows)'
    - name: 'libmgl-wnd7.4.0'
      description: 'libmgl-wnd7.4.0 - library for scientific graphs (windows runtime library)'
    - name: 'libmgl-wx7.4.0'
      description: 'libmgl-wx7.4.0 - library for scientific graphs (wx interface for windows)'
    - name: 'libmgl7.4.0'
      description: 'libmgl7.4.0 - library for scientific graphs (main runtime library)'
    - name: 'lockfile-progs'
      description: 'lockfile-progs - Programs for locking and unlocking files and mailboxes'
    - name: 'lpr'
      description: 'lpr - BSD lpr/lpd line printer spooling system'
    - name: 'mercurial'
      description: 'mercurial - easy-to-use, scalable distributed version control system'
    - name: 'module-init-tools'
      description: 'module-init-tools - transitional dummy package (module-init-tools to kmod)'
    - name: 'mountall'
      description: 'mountall - filesystem mounting tool'
    - name: 'mpich'
      description: 'mpich - Implementation of the MPI Message Passing Interface standard'
    - name: 'msr-tools'
      description: 'msr-tools - Utilities for modifying MSRs from userspace'
    - name: 'mtools'
      description: 'mtools - Tools for manipulating MSDOS files'
    - name: 'muscle'
      description: 'muscle - Multiple alignment program of protein sequences'
    - name: 'mutt-patched'
      description: 'mutt-patched - Mutt Mail User Agent with extra patches'
    - name: 'ncurses-doc'
      description: 'ncurses-doc - developers guide and documentation for ncurses'
    - name: 'ncurses-examples'
      description: 'ncurses-examples - test programs and examples for ncurses'
    - name: 'ncurses-hexedit'
      description: 'ncurses-hexedit - Edit files/disks in hex, ASCII and EBCDIC'
    - name: 'nmap'
      description: 'nmap - The Network Mapper'
    - name: 'okular'
      description: 'okular - universal document viewer'
    - name: 'openjdk-8-jdk'
      description: 'openjdk-8-jdk - OpenJDK Development Kit (JDK)'
    - name: 'pandoc'
      description: 'pandoc - general markup converter'
    - name: 'parallel'
      description: 'parallel - build and execute command lines from standard input in parallel'
    - name: 'perl-modules'
      description: 'perl-modules - Core Perl modules'
    - name: 'phyml'
      description: 'phyml - Phylogenetic estimation using Maximum Likelihood'
    - name: 'pigz'
      description: 'pigz - Parallel Implementation of GZip'
    - name: 'python3'
      description: 'python3 - interactive high-level object-oriented language (default python3 version)'
    - name: 'python3-dev'
      description: 'python3-dev - header files and a static library for Python (default)'
    - name: 'python3-minimal'
      description: 'python3-minimal - minimal subset of the Python language (default python3 version)'
    - name: 'python-biopython'
      description: 'python-biopython - Python library for bioinformatics (implemented in Python 2)'
    - name: 'python-biopython-doc'
      description: 'python-biopython-doc - Documentation for the Biopython library'
    - name: 'python-cheetah'
      description: 'python-cheetah - text-based template engine and Python code generator'
    - name: 'python-crypto'
      description: 'python-crypto - cryptographic algorithms and protocols for Python'
    - name: 'python-dbus'
      description: 'python-dbus - simple interprocess messaging system (Python interface)'
    - name: 'python-dev'
      description: 'python-dev - header files and a static library for Python (default)'
    - name: 'python-gobject'
      description: 'python-gobject - Python 2.x bindings for GObject - transitional package'
    - name: 'python-gobject-2'
      description: 'python-gobject-2 - deprecated static Python bindings for the GObject library'
    - name: 'python-h5py'
      description: 'python-h5py - general-purpose Python interface to hdf5 (Python 2)'
    - name: 'python-httplib2'
      description: 'python-httplib2 - comprehensive HTTP client library written for Python'
    - name: 'python-keyring'
      description: 'python-keyring - store and access your passwords safely'
    - name: 'python-launchpadlib'
      description: 'python-launchpadlib - Launchpad web services client library'
    - name: 'python-lazr.restfulclient'
      description: 'python-lazr.restfulclient - client for lazr.restful-based web services'
    - name: 'python-lazr.uri'
      description: 'python-lazr.uri - library for parsing, manipulating, and generating URIs'
    - name: 'python-libvirt'
      description: 'python-libvirt - libvirt Python bindings'
    - name: 'python-magic'
      description: 'python-magic - File type determination library using "magic" numbers (Python bindings)'
    - name: 'python-matplotlib'
      description: 'python-matplotlib - Python based plotting system in a style similar to Matlab'
    - name: 'python-nose'
      description: 'python-nose - test discovery and running of Pythons unittest'
    - name: 'python-numpy'
      description: 'python-numpy - Numerical Python adds a fast array facility to the Python language'
    - name: 'python-pam'
      description: 'python-pam - Python interface to the PAM library'
    - name: 'python-pexpect'
      description: 'python-pexpect - Python module for automating interactive applications'
    - name: 'python-pip'
      description: 'python-pip - alternative Python package installer'
    - name: 'python-pygments'
      description: 'python-pygments - syntax highlighting package written in Python'
    - name: 'python-pymssql'
      description: 'python-pymssql - Python database access for MS SQL server and Sybase'
    - name: 'python-pyodbc'
      description: 'python-pyodbc - Python module for ODBC database access'
    - name: 'python-reportlab'
      description: 'python-reportlab - ReportLab library to create PDF documents using Python'
    - name: 'python-reportlab-accel'
      description: 'python-reportlab-accel - C coded extension accelerator for the ReportLab Toolkit'
    - name: 'python-rpy2'
      description: 'python-rpy2 - Python interface to the GNU R language and environment (version 2)'
    - name: 'python-scipy'
      description: 'python-scipy - scientific tools for Python'
    - name: 'python-smartpm'
      description: 'python-smartpm - Python library of the Smart Package Manager'
    - name: 'python-software-properties'
      description: 'python-software-properties - manage the repositories that you install software from'
    - name: 'python-sqlparse'
      description: 'python-sqlparse - non-validating SQL parser for Python 2' 
    - name: 'python-tables'
      description: 'python-tables - hierarchical database for Python based on HDF5'
    - name: 'python-virtualenv'
      description: 'python-virtualenv - Python virtual environment creator'
    - name: 'python-zmq'
      description: 'python-zmq - Python bindings for 0MQ library'
    - name: 'r-base'
      description: 'r-base - GNU R statistical computation and graphics system'
    - name: 'r-cran-haplo.stats'
      description: 'r-cran-haplo.stats - GNU R package for haplotype analysis'
    - name: 'r-cran-littler'
      description: 'r-cran-littler - GNU R scripting and command-line front-end'
    - name: 'r-cran-lmtest'
      description: 'r-cran-lmtest - GNU R package for diagnostic checking in linear models'
    - name: 'r-cran-nnet'
      description: 'r-cran-nnet - GNU R package for feed-forward neural networks'
    - name: 'r-cran-sandwich'
      description: 'r-cran-sandwich - GNU R package for model-robust standard error estimates'
    - name: 'r-recommended'
      description: 'r-recommended - GNU R collection of recommended packages [metapackage]'
    - name: 'samtools'
      description: 'samtools - processing sequence alignments in SAM and BAM formats'
    - name: 'sqlite'
      description: 'sqlite - command line interface for SQLite' 
    - name: 'sqlite3'
      description: 'sqlite - command line interface for SQLite3' 
    - name: 'sqsh'
      description: 'sqsh - commandline SQL client for MS SQL and Sybase servers'
    - name: 'sshfs'
      description: 'sshfs - filesystem client based on SSH File Transfer Protocol'
    - name: 'stress'
      description: 'stress - tool to impose load on and stress test a computer system'
    - name: 'subversion'
      description: 'subversion - Advanced version control system'
    - name: 'tabix'
      description: 'tabix - generic indexer for TAB-delimited genome position files'
    - name: 'tcl8.5'
      description: 'tcl8.5 - Tcl (the Tool Command Language) v8.5 - shell'
    - name: 'texlive-full'
      description: 'texlive-full - TeX Live: metapackage pulling in all components of TeX Live'
    - name: 'ttf-dejavu-core'
      description: 'ttf-dejavu-core - transitional dummy package'
    - name: 'ttf-mscorefonts-installer'
      description: 'ttf-mscorefonts-installer - Installer for Microsoft TrueType core fonts'
    - name: 'valgrind'
      description: 'valgrind - instrumentation framework for building dynamic analysis tools'
    - name: 'velvet'
      description: 'velvet - Nucleic acid sequence assembler for very short reads'
    - name: 'xorg-dev'
      description: 'xorg-dev - X.Org X Window System development libraries'
    - name: 'zlib1g-dev'
      description: 'zlib1g-dev - compression library - development'
    - name: 'pip'
      install_options: '-U'
      provider: 'pip'
    - name: 'virtualenvwrapper'
      provider: 'pip'
